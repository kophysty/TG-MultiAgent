# AI-оркестрация (Agent Loop)

Новый обязательный модуль: `Agent Orchestrator` (router + planner + executor).

- **Intent Router (LLM)**: классифицирует вход (задача, вопрос, обновить, удалить, идея, настройка, прочее) и даёт уверенность.
- **Planner (LLM, но ограниченный контрактом)**: строит план шагов вида `tool_calls[]` (какие инструменты, в каком порядке, какие параметры).
- **Executor (код)**: выполняет tool calls детерминированно, с ретраями, таймаутами и логированием.
- **Policy/Guards (код)**: правила безопасности и UX (например: удаление всегда с подтверждением, если confidence низкий - уточняем, если молчание - Inbox).

Ключевая мысль: LLM не "делает всё". Он пишет план в структурированном JSON, а выполнение - твой код.


